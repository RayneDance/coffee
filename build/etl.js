// Generated by CoffeeScript 2.6.1
(function() {
  var ETL, etl;

  ETL = class ETL {
    constructor(fileLocation) {
      this.fileLocation = fileLocation;
      this.ETLData = require('./file').ETLData;
      this.file = new this.ETLData(this.fileLocation, this.readComplete);
    }

    readComplete(fileData) {
      var i, len, obj, ref, results;
      this.data = fileData;
      ref = this.data;
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        obj = ref[i];
        // Names will almost never be this simple to parse
        // Simple solution for a simple example
        obj['first_name'] = obj['full_name'].split(" ")[0];
        obj['last_name'] = obj['full_name'].split(" ")[1];
        delete obj['full_name'];
        obj['phone_number'] = obj['phone_number'].split('-').join('');
        switch (obj['gender']) {
          case "Male":
            obj['gender'] = "MM";
            break;
          case "Female":
            obj['gender'] = "FF";
            break;
          case "Non-binary":
            obj['gender'] = "NB";
            break;
          case "":
            obj['gender'] = "NA";
            break;
          default:
            obj['gender'] = "OG";
        }
        results.push(console.log(obj));
      }
      return results;
    }

  };

  etl = new ETL('D:/coffee/build/MOCK_DATA.csv');

}).call(this);
